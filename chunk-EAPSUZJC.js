import{a as P,b as O,c as S,d as I,e as j,f as z,k as E}from"./chunk-JQPKKWPS.js";import{e as _,i as k}from"./chunk-ODAJEXKV.js";import{Bb as i,Eb as u,Fb as f,Gb as y,Ia as d,N as h,R as b,Sa as p,V as x,Xa as v,ba as g,ca as m,jb as M,kb as e,lb as n,mb as s,rb as C}from"./chunk-UXSHYVRS.js";var c=class l{constructor(t){this.http=t}tokenKey="auth_token";isLoggedIn(){return!!localStorage.getItem(this.tokenKey)}getUserRoles(){return this.decodeToken()?.roles||[]}getUserType(){return this.decodeToken()?.type||""}decodeToken(){let t=localStorage.getItem(this.tokenKey);return t?JSON.parse(atob(t.split(".")[1])):null}login(t){return this.http.post("/api/auth/login",t).pipe(h(r=>localStorage.setItem(this.tokenKey,r.token)))}static \u0275fac=function(r){return new(r||l)(x(_))};static \u0275prov=b({token:l,factory:l.\u0275fac,providedIn:"root"})};var L=class l{constructor(t,r){this.router=t;this.authService=r}credentials={username:"",password:""};role=[];ngOnInit(){this.role=this.authService.getUserRoles()}login(){this.authService.login(this.credentials).subscribe({next:()=>this.router.navigate(["/dashboard"]),error:t=>console.error(t)})}static \u0275fac=function(r){return new(r||l)(p(k),p(c))};static \u0275cmp=v({type:l,selectors:[["app-login"]],decls:44,vars:3,consts:[[1,"min-h-screen","bg-gray-100","text-gray-900","flex","justify-center"],[1,"max-w-screen-xl","m-0","sm:m-10","bg-white","shadow","sm:rounded-lg","flex","justify-center","flex-1"],[1,"lg:w-1/2","xl:w-5/12","p-6","sm:p-12"],["src","/assets/logo.png",1,"w-32","mx-auto"],[1,"text-center","block","mt-2","text-xl","font-semibold"],[1,"mt-12","flex","flex-col","items-center"],[1,"text-2xl","xl:text-3xl","font-extrabold"],[1,"w-full","flex-1","mt-8"],[1,"flex","flex-col","items-center"],[1,"w-full","max-w-xs","font-bold","shadow-sm","rounded-lg","py-3","bg-indigo-100","text-gray-800","flex","items-center","justify-center","transition-all","duration-300","ease-in-out","focus:outline-none","hover:shadow","focus:shadow-sm","focus:shadow-outline"],[1,"bg-white","p-2","rounded-full"],["viewBox","0 0 533.5 544.3",1,"w-4"],["d","M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z","fill","#4285f4"],["d","M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z","fill","#34a853"],["d","M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z","fill","#fbbc04"],["d","M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z","fill","#ea4335"],[1,"ml-4"],[1,"my-12","border-b","text-center"],[1,"leading-none","px-2","inline-block","text-sm","text-gray-600","tracking-wide","font-medium","bg-white","transform","translate-y-1/2"],[1,"mx-auto","max-w-xs"],["type","email","placeholder","Email","name","username",1,"w-full","px-8","py-4","rounded-lg","font-medium","bg-gray-100","border","border-gray-200","placeholder-gray-500","text-sm","focus:outline-none","focus:border-gray-400","focus:bg-white",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password",1,"w-full","px-8","py-4","rounded-lg","font-medium","bg-gray-100","border","border-gray-200","placeholder-gray-500","text-sm","focus:outline-none","focus:border-gray-400","focus:bg-white","mt-5",3,"ngModelChange","ngModel"],[3,"ngSubmit"],["type","submit",1,"mt-5","tracking-wide","font-semibold","bg-indigo-500","text-gray-100","w-full","py-4","rounded-lg","hover:bg-indigo-700","transition-all","duration-300","ease-in-out","flex","items-center","justify-center","focus:shadow-outline","focus:outline-none",3,"disabled"],["fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","-ml-2"],["d","M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"],["cx","8.5","cy","7","r","4"],["d","M20 8v6M23 11h-6"],[1,"ml-3"],[1,"mt-6","text-xs","text-gray-600","text-center"],["href","#",1,"border-b","border-gray-500","border-dotted"],[1,"flex-1","bg-indigo-100","text-center","hidden","lg:flex"],[1,"m-12","xl:m-16","w-full","bg-contain","bg-center","bg-no-repeat",2,"background-image","url('/assets/loginBackground')"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),s(4,"img",3),e(5,"span",4),i(6,"Sprachschule Mank"),n()(),e(7,"div",5)(8,"h1",6),i(9,"Sign in"),n(),e(10,"div",7)(11,"div",8)(12,"button",9)(13,"div",10),g(),e(14,"svg",11),s(15,"path",12)(16,"path",13)(17,"path",14)(18,"path",15),n()(),m(),e(19,"span",16),i(20," Sign In with Google "),n()()(),e(21,"div",17)(22,"div",18),i(23," Or sign in with e-mail "),n()(),e(24,"div",19)(25,"input",20),y("ngModelChange",function(a){return f(o.credentials.username,a)||(o.credentials.username=a),a}),n(),e(26,"input",21),y("ngModelChange",function(a){return f(o.credentials.password,a)||(o.credentials.password=a),a}),n(),e(27,"form",22),C("ngSubmit",function(){return o.login()}),e(28,"button",23),g(),e(29,"svg",24),s(30,"path",25)(31,"circle",26)(32,"path",27),n(),m(),e(33,"span",28),i(34," Sign In "),n()()(),e(35,"p",29),i(36," I agree to abide by sprachschule-mank's "),e(37,"a",30),i(38," Terms of Service "),n(),i(39," and its "),e(40,"a",30),i(41," Privacy Policy "),n()()()()()(),e(42,"div",31),s(43,"div",32),n()()()),r&2&&(d(25),u("ngModel",o.credentials.username),d(),u("ngModel",o.credentials.password),d(2),M("disabled",!o.credentials.username||!o.credentials.password))},dependencies:[E,z,P,O,S,j,I],styles:[`@layer properties;.fixed[_ngcontent-%COMP%]{position:fixed}.z-50[_ngcontent-%COMP%]{z-index:50}.mx-auto[_ngcontent-%COMP%]{margin-inline:auto}.block[_ngcontent-%COMP%]{display:block}.flex[_ngcontent-%COMP%]{display:flex}.hidden[_ngcontent-%COMP%]{display:none}.inline-block[_ngcontent-%COMP%]{display:inline-block}.table[_ngcontent-%COMP%]{display:table}.h-screen[_ngcontent-%COMP%]{height:100vh}.min-h-screen[_ngcontent-%COMP%]{min-height:100vh}.w-full[_ngcontent-%COMP%]{width:100%}.flex-1[_ngcontent-%COMP%]{flex:1}.translate-y-1\\/2[_ngcontent-%COMP%]{--tw-translate-y: 50% ;translate:var(--tw-translate-x) var(--tw-translate-y)}.transform[_ngcontent-%COMP%]{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-row[_ngcontent-%COMP%]{flex-direction:row}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.justify-center[_ngcontent-%COMP%]{justify-content:center}.rounded-full[_ngcontent-%COMP%]{border-radius:calc(infinity * 1px)}.border[_ngcontent-%COMP%]{border-style:var(--tw-border-style);border-width:1px}.border-b[_ngcontent-%COMP%]{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-dotted[_ngcontent-%COMP%]{--tw-border-style: dotted;border-style:dotted}.bg-contain[_ngcontent-%COMP%]{background-size:contain}.bg-center[_ngcontent-%COMP%]{background-position:center}.bg-no-repeat[_ngcontent-%COMP%]{background-repeat:no-repeat}.text-center[_ngcontent-%COMP%]{text-align:center}.leading-none[_ngcontent-%COMP%]{--tw-leading: 1;line-height:1}.transition-all[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:var(--tw-ease, ease);transition-duration:var(--tw-duration, 0s)}.transition-colors[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease, ease);transition-duration:var(--tw-duration, 0s)}.duration-300[_ngcontent-%COMP%]{--tw-duration: .3s;transition-duration:.3s}.focus\\:outline-none[_ngcontent-%COMP%]:focus{--tw-outline-style: none;outline-style:none}@property --tw-translate-x{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-y{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-z{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-rotate-x{syntax: "*"; inherits: false;}@property --tw-rotate-y{syntax: "*"; inherits: false;}@property --tw-rotate-z{syntax: "*"; inherits: false;}@property --tw-skew-x{syntax: "*"; inherits: false;}@property --tw-skew-y{syntax: "*"; inherits: false;}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-leading{syntax: "*"; inherits: false;}@property --tw-duration{syntax: "*"; inherits: false;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-translate-x: 0;--tw-translate-y: 0;--tw-translate-z: 0;--tw-rotate-x: initial;--tw-rotate-y: initial;--tw-rotate-z: initial;--tw-skew-x: initial;--tw-skew-y: initial;--tw-border-style: solid;--tw-leading: initial;--tw-duration: initial}}}

`]})};export{L as a};

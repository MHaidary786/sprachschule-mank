import{a as N,b as x,c as V,d as I,e as D,f as F,g as Z,h as $,i as ee,j as A,k as U}from"./chunk-JQPKKWPS.js";import{b as Q,e as X,i as Y,j as M,n as E}from"./chunk-ODAJEXKV.js";import{$ as m,Bb as n,Cb as K,Db as g,Eb as S,Fb as f,Gb as h,Ia as d,R as P,Sa as v,V as j,Xa as b,aa as u,fb as O,gb as k,hb as q,ib as G,jb as w,kb as t,lb as e,mb as p,nb as H,ob as z,qb as y,rb as _,sb as R,yb as J}from"./chunk-UXSHYVRS.js";var C=class o{constructor(i){this.http=i}baseUrl="http://localhost:5000/api/student/create";createStudent(i){return this.http.post(this.baseUrl,i)}getAll(){return this.http.get("http://localhost:5000/api/student/getallstudents")}getStudentByName(i){return this.http.get(`http://localhost:5000/api/student/getstudent/${i}`)}static \u0275fac=function(r){return new(r||o)(j(X))};static \u0275prov=P({token:o,factory:o.\u0275fac,providedIn:"root"})};var W=class o{constructor(i,r){this.studentApiService=i;this.router=r}student={name:"",email:"",password:"",courses:[]};onSubmit(i){i&&(console.log("Submitting student data:",i),this.studentApiService.createStudent(i).subscribe({next:()=>this.router.navigate(["/admin/dashboard"]),error:r=>console.error("Error creating user:",r)}))}static \u0275fac=function(r){return new(r||o)(v(C),v(Y))};static \u0275cmp=b({type:o,selectors:[["app-create-user"]],decls:35,vars:5,consts:[["studentForm","ngForm"],[3,"ngSubmit"],["for","name"],["id","name","name","name","type","text","required","",3,"ngModelChange","ngModel"],["for","email"],["id","email","name","email","type","email","required","",3,"ngModelChange","ngModel"],["for","password"],["id","password","name","password","type","password","required","",3,"ngModelChange","ngModel"],["for","courses"],["id","courses","name","courses","multiple","",3,"ngModelChange","ngModel"],["value","english"],["value","german"],["value","spanish"],["value","french"],["value","italian"],["type","submit",3,"disabled"],["routerLink","/admin/dashboard"]],template:function(r,a){if(r&1){let l=y();t(0,"main")(1,"h2"),n(2,"Create User"),e(),t(3,"form",1,0),_("ngSubmit",function(){return m(l),u(a.onSubmit(a.student))}),t(5,"label",2),n(6,"Name:"),e(),t(7,"input",3),h("ngModelChange",function(s){return m(l),f(a.student.name,s)||(a.student.name=s),u(s)}),e(),p(8,"br"),t(9,"label",4),n(10,"Email:"),e(),t(11,"input",5),h("ngModelChange",function(s){return m(l),f(a.student.email,s)||(a.student.email=s),u(s)}),e(),p(12,"br"),t(13,"label",6),n(14,"Password:"),e(),t(15,"input",7),h("ngModelChange",function(s){return m(l),f(a.student.password,s)||(a.student.password=s),u(s)}),e(),p(16,"br"),t(17,"label",8),n(18,"Courses:"),e(),t(19,"select",9),h("ngModelChange",function(s){return m(l),f(a.student.courses,s)||(a.student.courses=s),u(s)}),t(20,"option",10),n(21,"English"),e(),t(22,"option",11),n(23,"German"),e(),t(24,"option",12),n(25,"Spanish"),e(),t(26,"option",13),n(27,"French"),e(),t(28,"option",14),n(29,"Italian"),e()(),p(30,"br"),t(31,"button",15),n(32,"Create User"),e(),t(33,"a",16),n(34,"Back to Dashboard"),e()()()}if(r&2){let l=J(4);d(7),S("ngModel",a.student.name),d(4),S("ngModel",a.student.email),d(4),S("ngModel",a.student.password),d(4),S("ngModel",a.student.courses),d(12),w("disabled",!l.valid)}},dependencies:[E,M,U,F,Z,ee,N,$,x,V,A,D,I],encapsulation:2})};var ae=(o,i)=>i.name;function oe(o,i){if(o&1&&(t(0,"div")(1,"p")(2,"strong"),n(3,"Name:"),e(),n(4),e(),t(5,"p")(6,"strong"),n(7,"Email:"),e(),n(8),e(),t(9,"p")(10,"strong"),n(11,"Courses:"),e(),n(12),e()()),o&2){let r=R();d(4),g(" ",r.fetchedStudent.name),d(4),g(" ",r.fetchedStudent.email),d(4),g(" ",(r.fetchedStudent.courses==null?null:r.fetchedStudent.courses.join(", "))||"None")}}function se(o,i){if(o&1&&(t(0,"div",6),n(1),e()),o&2){let r=R();d(),K(r.error)}}function de(o,i){if(o&1&&(t(0,"li")(1,"strong"),n(2,"Name:"),e(),n(3),p(4,"br"),t(5,"strong"),n(6,"Email:"),e(),n(7),p(8,"br"),t(9,"strong"),n(10,"Courses:"),e(),n(11),e()),o&2){let r=i.$implicit;d(3),g(" ",r.name," "),d(4),g(" ",r.email," "),d(4),g(" ",(r.courses==null?null:r.courses.join(", "))||"None"," ")}}var T=class o{constructor(i){this.studentApiService=i}students=[];studentName="";fetchedStudent=null;error="";ngOnInit(){this.loadStudents()}loadStudents(){this.studentApiService.getAll().subscribe({next:i=>this.students=i,error:i=>console.error("Failed to load students:",i)})}loadStudentByName(){this.studentName&&this.studentApiService.getStudentByName(this.studentName).subscribe({next:i=>this.fetchedStudent=i,error:i=>{console.error("Failed to load student:",i),this.fetchedStudent=null,this.error="Failed to load student. Please try again."}})}static \u0275fac=function(r){return new(r||o)(v(C))};static \u0275cmp=b({type:o,selectors:[["app-admin-dashboard"]],decls:24,vars:4,consts:[["getStudentForm","ngForm"],["routerLink","/admin/create-user"],[3,"ngSubmit"],["for","studentName"],["id","studentName","name","studentName","type","text","required","",3,"ngModelChange","ngModel"],[3,"click","disabled"],[1,"error-message"]],template:function(r,a){if(r&1){let l=y();t(0,"main")(1,"h2"),n(2,"Admin Dashboard"),e(),t(3,"p"),n(4,"Welcome to the admin dashboard!"),e(),t(5,"a",1),n(6,"Create Student"),e(),t(7,"section")(8,"h3"),n(9,"Get Student By Name"),e(),t(10,"form",2,0),_("ngSubmit",function(){return m(l),u(a.loadStudentByName())}),t(12,"label",3),n(13,"Student Name:"),e(),t(14,"input",4),h("ngModelChange",function(s){return m(l),f(a.studentName,s)||(a.studentName=s),u(s)}),e()(),t(15,"button",5),_("click",function(){return m(l),u(a.loadStudentByName())}),n(16,"Get Student"),e(),O(17,oe,13,3,"div"),O(18,se,2,1,"div",6),e(),t(19,"h3"),n(20,"Students List"),e(),t(21,"ul"),q(22,de,12,3,"li",null,ae),e()()}r&2&&(d(14),S("ngModel",a.studentName),d(),w("disabled",!a.studentName),d(2),k(a.fetchedStudent?17:-1),d(),k(a.error?18:-1),d(4),G(a.students))},dependencies:[E,M,Q,U,F,N,x,V,A,D,I],encapsulation:2})};var B=class o{constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=b({type:o,selectors:[["app-manage-users"]],decls:2,vars:0,template:function(r,a){r&1&&(H(0,"p"),n(1,"manage-users works!"),z())},encapsulation:2})};var we=[{path:"dashboard",component:T},{path:"create",component:W},{path:"manageusers",component:B}];export{we as routes};
